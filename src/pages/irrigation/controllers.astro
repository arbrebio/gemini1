---
import Layout from '../../layouts/Layout.astro';

const products = [
  {
    name: "ESP-TM2 Series Controllers",
    shortDescription: "Simple, Flexible and Reliable for Residential Applications",
    description: "The ESP-TM2 irrigation controller is the perfect option for basic residential solutions. Building upon Rain Bird's legacy of The Intelligent Use of Water®, this controller offers simple water saving features that you will actually use.",
    image: "https://imgur.com/NaJWgvW.jpg",
    features: [
      "Upgradeable for WiFi-based remote monitoring and control",
      "Internet-based weather information for smart scheduling",
      "4, 6, 8, and 12 station models available",
      "Set Permanent Days Off per program",
      "Easy indoor/outdoor installation",
      "Quick 3-step programming",
      "3 programs with 4 start times each",
      "One-touch manual watering",
      "Large back-lit LCD display",
      "Contractor Default™ save/restore",
      "14-day watering delay",
      "Bypass Rain Sensor per station",
      "Seasonal Adjust by program"
    ],
    specifications: {
      operating: {
        temperature: "Up to 149°F (65°C)",
        storage: "-40°F (-40°C) to 150°F (66°C)",
        humidity: "95% max @ 50°F to 120°F (10°C to 49°C) non-condensing"
      },
      electrical: {
        input: {
          standard: "120V∿, 60Hz, 0.3A",
          international: "230V∿, 50Hz, 0.136A"
        },
        output: {
          standard: "24V∿, 60Hz, 1.0A",
          indoor: "24V∿, 50-60Hz, 0.6A"
        }
      },
      dimensions: {
        standard: {
          width: "7.92 in. (20.1 cm)",
          height: "7.86 in. (20.0 cm)",
          depth: "3.51 in. (9.0 cm)"
        },
        indoor: {
          width: "16.7 cm",
          height: "16.8 cm",
          depth: "4 cm"
        }
      }
    },
    models: {
      "120VAC": [
        "TM2-4-120V: 4-station",
        "TM2-6-120V: 6-station",
        "TM2-8-120V: 8-station",
        "TM2-12-120V: 12-station"
      ],
      "230VAC": [
        "TM2-4-230V: 4-station",
        "TM2-6-230V: 6-station",
        "TM2-8-230V: 8-station",
        "TM2-12-230V: 12-station",
        "TM2I4-230V: 4-station (Indoor)",
        "TM2I6-230V: 6-station (Indoor)",
        "TM2I8-230V: 8-station (Indoor)",
        "TM2I12-230V: 12-station (Indoor)"
      ],
      "Australia": [
        "TM2-4-AUS: 4-station",
        "TM2-6-AUS: 6-station",
        "TM2-8-AUS: 8-station",
        "TM2-12-AUS: 12-station"
      ]
    },
    accessories: [
      {
        name: "LNKWIFI",
        description: "LNK2 WiFi Module for remote control and notification via iOS or Android device"
      },
      {
        name: "WR2-RFC",
        description: "Rain + Freeze Combo"
      },
      {
        name: "WR2-48",
        description: "Rain + Freeze Combo with 48-hour hold"
      },
      {
        name: "RSD-BEx",
        description: "Rain sensor w/ latching bracket, extension wire"
      }
    ],
    certifications: {
      "120V Models": [
        "cULus (US and Canada)",
        "FCC Part 15b (US)",
        "CAN ICES-3(B)/NMB-3(B) (Canada)",
        "NOM-001-SCFI-2018 (Mexico)"
      ],
      "230V Models": [
        "CE (European Union)",
        "IP24",
        "RCM (Australia and New Zealand)",
        "IRAM (Argentina)",
        "EAC (Eurasian Economic Union)",
        "ICASA (South Africa)",
        "CMAC (Moldova)",
        "Kvalitet (Serbia)",
        "UkrSEPRO (Ukraine)"
      ]
    }
  },
  {
    name: "ST8-2.0 WiFi Smart Irrigation Timers",
    shortDescription: "Smart Watering Made Simple",
    description: "ST8 2.0, 8-Zone Smart Irrigation WiFi Sprinkler Timer. Put control of your sprinkler system in the palm of your hand with a Smart Irrigation WiFi Timer from Rain Bird. It is simple to setup customized watering schedules that can be adjusted automatically all year long to ensure a healthy, beautiful landscape saving you time and money. That's The Intelligent Use of Water™.",
    image: "https://imgur.com/U5GEgAP.jpg",
    features: [
      "Improved WIFI Connection and app connection speed",
      "Watering reports for maximizing efficiency",
      "Manual watering in the palm of your hand",
      "Automatic seasonal adjust based on weather",
      "Fully customizable zone scheduling",
      "Notification alerts for system events",
      "Control multiple timers remotely",
      "Easy setup and schedule customization",
      "Up to 8 zones",
      "Back-up manual interface at timer",
      "Rain Sensor input with software override",
      "Master valve/pump start circuit"
    ],
    specifications: {
      operating: {
        timing: "0 to 199 min",
        seasonal: "-90% to +100%",
        startTimes: "6 per zone",
        programs: "Independent schedule per zone"
      },
      electrical: {
        input: {
          standard: "120VAC, 60Hz, 0.2A",
          international: "230VAC, 50Hz, 0.1A"
        },
        output: {
          standard: "25.5VAC, 60Hz, 0.65A",
          international: "24VAC, 50Hz, 0.65A"
        }
      },
      dimensions: {
        indoor: {
          width: "6.25 in. (15.9 cm)",
          height: "6.25 in. (15.9 cm)",
          depth: "1.54 in. (3.9 cm)"
        },
        outdoor: {
          width: "7.88 in. (20 cm)",
          height: "7.88 in. (20 cm)",
          depth: "3.25 in. (8.3 cm)"
        }
      }
    },
    models: {
      "Indoor Models": [
        "ST8I WIFI",
        "ST8I-2.0 WIFI",
        "ST8I-INTL"
      ],
      "Outdoor Models": [
        "ST8O-2.0",
        "ST8O-AUS"
      ]
    },
    accessories: [
      {
        name: "WR2-RFC",
        description: "Rain + Freeze Combo"
      },
      {
        name: "WR2-48",
        description: "Rain + Freeze Combo with 48-hour hold"
      },
      {
        name: "RSD-BEx",
        description: "Rain sensor with latching bracket"
      }
    ],
    certifications: {
      "Indoor Models": [
        "cULus (US and Canada)",
        "FCC Part 15b (US)",
        "WaterSense (US, ST8I-WIFI only)",
        "CAN ICES-3(B)/NMB-3(B) (Canada)",
        "CE (European Union)",
        "NRCS (South Africa)",
        "SABS (South Africa)"
      ],
      "Outdoor Models": [
        "cULus (US and Canada)",
        "FCC Part 15b (US)",
        "WaterSense (US)",
        "CAN ICES-3(B)/NMB-3(B) (Canada)",
        "CE (European Union)",
        "IPX4",
        "RCM (Australia and New Zealand)"
      ]
    }
  }
];
---

<Layout
  title="Irrigation Controllers - Smart Water Management"
  description="Discover our range of smart irrigation controllers for precise water management. From basic residential solutions to advanced WiFi-enabled systems."
>
  <!-- Hero Section -->
  <section class="relative h-[60vh] flex items-center">
    <div class="absolute inset-0 z-0">
      <img 
        src="https://imgur.com/Vb6z5ec.jpg"
        alt="Smart Irrigation Controllers" 
        class="w-full h-full object-cover"
      />
      <div class="absolute inset-0 bg-black bg-opacity-50"></div>
    </div>
    <div class="container mx-auto px-4 relative z-10">
      <div class="max-w-4xl">
        <h1 class="text-4xl md:text-6xl font-bold text-white mb-6">
          Smart Irrigation Controllers
          <span class="block text-2xl md:text-3xl mt-2">Precision Water Management</span>
        </h1>
        <p class="text-xl text-white mb-8">
          Advanced control systems for efficient water management
        </p>
        <div class="flex flex-wrap gap-4">
          <a 
            href="#products"
            class="bg-primary hover:bg-primary-600 text-white px-8 py-3 rounded-full text-lg transition-colors duration-300"
          >
            View Products
          </a>
          <a 
            href="#quote-form"
            class="bg-white/10 hover:bg-white/20 text-white border-2 border-white px-8 py-3 rounded-full text-lg transition-colors duration-300 backdrop-blur-sm"
          >
            Request Quote
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- Products Section -->
  <section id="products" class="py-20">
    <div class="container mx-auto px-4">
      <h2 class="text-3xl font-bold text-center mb-12">Our Controllers</h2>
      
      {products.map((product, index) => (
        <div class={`mb-20 ${index !== 0 ? 'border-t pt-20' : ''}`}>
          <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
            <div class={index % 2 === 0 ? 'order-1' : 'order-1 lg:order-2'}>
              <h3 class="text-2xl font-bold mb-4">{product.name}</h3>
              <p class="text-lg font-medium text-primary mb-4">{product.shortDescription}</p>
              <p class="text-gray-600 mb-6">{product.description}</p>
              
              <div class="space-y-6">
                <div>
                  <h4 class="font-bold mb-3">Key Features:</h4>
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                    {product.features.map((feature) => (
                      <div class="flex items-center text-gray-700">
                        <svg class="w-5 h-5 text-primary mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"/>
                        </svg>
                        {feature}
                      </div>
                    ))}
                  </div>
                </div>

                <div>
                  <h4 class="font-bold mb-3">Documentation:</h4>
                  <div class="bg-gray-50 p-4 rounded-lg">
                    <a 
                      href={product.name === "ESP-TM2 Series Controllers" 
                        ? "https://www.rainbird.com/sites/default/files/media/documents/2023-05/esp-tm2-tech_spec-itl_1.pdf"
                        : "https://www.rainbird.com/sites/default/files/media/documents/2018-03/man_ST8-WiFi_guide_en_0.pdf"
                      }
                      target="_blank"
                      rel="noopener noreferrer"
                      class="inline-flex items-center text-primary hover:text-primary-600 transition-colors"
                    >
                      <svg class="w-5 h-5 mr-2" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
                      </svg>
                      Download Product Catalog (PDF)
                    </a>
                  </div>
                </div>

                <div>
                  <h4 class="font-bold mb-3">Technical Specifications:</h4>
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    {Object.entries(product.specifications).map(([category, specs]) => {
                      if (typeof specs !== 'object' || specs === null) {
                        return (
                          <div class="bg-gray-50 p-4 rounded-lg">
                            <h5 class="font-semibold mb-2 capitalize">{category}</h5>
                            <div class="text-sm">
                              <span class="font-medium">{String(specs)}</span>
                            </div>
                          </div>
                        );
                      }
                      
                      return (
                        <div class="bg-gray-50 p-4 rounded-lg">
                          <h5 class="font-semibold mb-2 capitalize">{category}</h5>
                          <div class="space-y-2">
                            {Object.entries(specs).map(([key, value]) => {
                              const displayValue = typeof value === 'object' && value !== null 
                                ? JSON.stringify(value) 
                                : String(value);
                              
                              return (
                                <div class="flex justify-between text-sm">
                                  <span class="text-gray-600 capitalize">{key}:</span>
                                  <span class="font-medium">{displayValue}</span>
                                </div>
                              );
                            })}
                          </div>
                        </div>
                      );
                    })}
                  </div>
                </div>

                <div>
                  <h4 class="font-bold mb-3">Available Models:</h4>
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    {Object.entries(product.models).map(([category, models]: [string, any]) => (
                      <div class="bg-gray-50 p-4 rounded-lg">
                        <h5 class="font-semibold mb-2">{category}</h5>
                        <ul class="space-y-1 text-sm">
                          {models.map((model: string) => (
                            <li class="text-gray-700">{model}</li>
                          ))}
                        </ul>
                      </div>
                    ))}
                  </div>
                </div>

                <div>
                  <h4 class="font-bold mb-3">Compatible Accessories:</h4>
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    {product.accessories.map((accessory) => (
                      <div class="bg-gray-50 p-4 rounded-lg">
                        <h5 class="font-semibold mb-1">{accessory.name}</h5>
                        <p class="text-sm text-gray-600">{accessory.description}</p>
                      </div>
                    ))}
                  </div>
                </div>

                <div>
                  <h4 class="font-bold mb-3">Certifications:</h4>
                  <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    {Object.entries(product.certifications).map(([category, certs]: [string, any]) => (
                      <div class="bg-gray-50 p-4 rounded-lg">
                        <h5 class="font-semibold mb-2">{category}</h5>
                        <ul class="space-y-1 text-sm">
                          {certs.map((cert: string) => (
                            <li class="text-gray-700">{cert}</li>
                          ))}
                        </ul>
                      </div>
                    ))}
                  </div>
                </div>
              </div>
            </div>
            <div class={index % 2 === 0 ? 'order-2' : 'order-2 lg:order-1'}>
              <img 
                src={product.image}
                alt={product.name}
                class="w-full h-[400px] object-cover rounded-lg shadow-lg"
              />
            </div>
          </div>
        </div>
      ))}
    </div>
  </section>

  <!-- Quote Form -->
  <section id="quote-form" class="py-20 bg-gray-50">
    <div class="container mx-auto px-4">
      <div class="max-w-3xl mx-auto">
        <h2 class="text-3xl font-bold text-center mb-12">Request a Quote</h2>
        <form class="bg-white p-8 rounded-lg shadow-lg space-y-6">
          <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">
                First Name *
              </label>
              <input
                type="text"
                required
                class="w-full px-4 py-2 rounded-md border-gray-300 focus:border-primary focus:ring focus:ring-primary focus:ring-opacity-50"
              />
            </div>
            <div>
              <label class="block text-sm font-medium text-gray-700 mb-1">
                Last Name *
              </label>
              <input
                type="text"
                required
                class="w-full px-4 py-2 rounded-md border-gray-300 focus:border-primary focus:ring focus:ring-primary focus:ring-opacity-50"
              />
            </div>
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">
              Email Address *
            </label>
            <input
              type="email"
              required
              class="w-full px-4 py-2 rounded-md border-gray-300 focus:border-primary focus:ring focus:ring-primary focus:ring-opacity-50"
            />
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">
              Phone Number *
            </label>
            <input
              type="tel"
              required
              class="w-full px-4 py-2 rounded-md border-gray-300 focus:border-primary focus:ring focus:ring-primary focus:ring-opacity-50"
            />
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">
              Controller Model *
            </label>
            <select
              required
              class="w-full px-4 py-2 rounded-md border-gray-300 focus:border-primary focus:ring focus:ring-primary focus:ring-opacity-50"
            >
              <option value="">Select a model</option>
              {products.map((product) => (
                <optgroup label={product.name}>
                  {Object.entries(product.models).flatMap(([category, models]: [string, any]) =>
                    models.map((model: string) => (
                      <option value={model.split(':')[0].trim()}>{model}</option>
                    ))
                  )}
                </optgroup>
              ))}
            </select>
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">
              Number of Zones *
            </label>
            <input
              type="number"
              required
              min="1"
              max="12"
              class="w-full px-4 py-2 rounded-md border-gray-300 focus:border-primary focus:ring focus:ring-primary focus:ring-opacity-50"
            />
          </div>

          <div>
            <label class="block text-sm font-medium text-gray-700 mb-1">
              Additional Requirements
            </label>
            <textarea
              rows="4"
              class="w-full px-4 py-2 rounded-md border-gray-300 focus:border-primary focus:ring focus:ring-primary focus:ring-opacity-50"
              placeholder="Tell us about your specific needs or any questions you have..."
            ></textarea>
          </div>

          <button
            type="submit"
            class="w-full bg-primary text-white px-8 py-3 rounded-md hover:bg-primary-600 transition-colors duration-300"
          >
            Submit Quote Request
          </button>
        </form>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="bg-primary py-16">
    <div class="container mx-auto px-4 text-center">
      <h2 class="text-3xl font-bold text-white mb-6">Need Expert Advice?</h2>
      <p class="text-xl text-white mb-8">Contact us today for personalized recommendations and support.</p>
      <div class="flex flex-wrap justify-center gap-4">
        <a 
          href="/contact" 
          class="bg-white text-primary px-8 py-3 rounded-full text-lg hover:bg-opacity-90"
        >
          Contact Us
        </a>
        <a 
          href="https://wa.me/2250799295643" 
          target="_blank" 
          rel="noopener noreferrer" 
          class="bg-[#25D366] text-white px-8 py-3 rounded-full text-lg hover:bg-opacity-90 inline-flex items-center"
        >
          <i class="fab fa-whatsapp mr-2"></i>
          Chat on WhatsApp
        </a>
      </div>
    </div>
  </section>
</Layout>